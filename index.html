<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>Password Generator</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/main.css" />
    <script type="text/javascript">

    const PASSWORD_LEN = 16;
    const CHARS = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    const ROWS_COUNT = 12;
    const COLS_PER_ROW = 6;

    function pwgen() {
      let password = "";
      let randNum;

      while (password.length < PASSWORD_LEN) {
        randNum = Math.round(Math.random() * (CHARS.length - 1));
        password += CHARS[randNum];
      }

      return password;
    };

    function fillRows() {
      let rows = document.getElementsByClassName("col-xs-2");
      for (let row in rows) {
        if (row !== "length" && row !== "item") {
          rows[row].innerHTML = pwgen();
        }
      }
    };

    function buildRows() {
      let container = document.getElementById("container");

      for (let r = 0; r < ROWS_COUNT; ++r) {
        let row = document.createElement("div");
        row.className = "row";

        for (let c = 0; c < COLS_PER_ROW; ++c) {
          let col = document.createElement("div");
          col.className = "col-xs-2 password";
          row.appendChild(col);
        }

        container.appendChild(row);
      }

      fillRows();
    };

    </script>
  </head>
  <body onload="buildRows()">
    <div class="container text-center" id="container">
      <p class="text-center generate-more"><a href="#" onclick="fillRows()">Refresh</a></p>
    </div>
  </body>
</html>
